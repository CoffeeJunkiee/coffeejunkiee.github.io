---
title:  "Hack The Box / Jail"
date: 2020-01-26
tags: [Penetration Testing, Hacking, Hack The Box, Jeeves, OSCP, Offensive Security]
header: 
  image: "assets/images/jail/jail-header.png"
---
Jail is our fifth machine in the OSCP list provided by [NetSec Focus](https://www.netsecfocus.com/)! This machine was a great learning experience where buffer overflow, custom exploit development, and linux privilege escalation were crucial in order to obtain this machine. This machine show my weaknesses in buffer overflow, custom exploit development, and linux privilege escalation, so it was a great learning experience, and without [Booj's](https://reboare.github.io/htb/htb-jail.html) guide root this machine would've not been possible. This is the fifth blog before my third attempt to the OSCP exam, so let's get to it!

## Information Gathering

### Nmap Scan
So, we start with a nmap scan to check what ports are open and what services are running in this machine. 

```
nmap -sC -sV -p- -oN scan.nmap 10.10.10.34
```
<img src="{{ site.url }}{{ site.baseurl }}/assets/images/jail/nmap.png" alt="nmap scan">

So, we see some HTTP, RCPBIND, NFS, and a "random" service running. Actually, good results will come from the "random" service and the HTTP, about NFS we'll get that later. 

### Visiting Port 80 HTTP
The first thing we see getting in this port is a jail cell, which is relatable with the name of the machine. 

<img src="{{ site.url }}{{ site.baseurl }}/assets/images/jail/port80.png" alt="nmap scan">

Sounds like to to do some directory brute force!

### Directory Brute Force

Running [dirsearch](https://github.com/maurosoria/dirsearch) in port 80 gave us a good result.
```
python3 dirsearch.py -u http://10.10.10.34 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -e php -t 50
```
<img src="{{ site.url }}{{ site.baseurl }}/assets/images/jail/dir-search.png" alt="nmap scan">

